var VueHtml2pdf=function(e,t,i){"use strict";var n={props:{showLayout:{type:Boolean,default:!1},floatLayout:{type:Boolean,default:!0},enableDownload:{type:Boolean,default:!0},previewModal:{type:Boolean,default:!1},paginateElementsByHeight:{type:Number},filename:{type:String,default:""+(new Date).getTime()},pdfQuality:{type:Number,default:2},pdfFormat:{default:"a4"},pdfOrientation:{type:String,default:"portrait"},pdfContentWidth:{default:"800px"},htmlToPdfOptions:{type:Object},manualPagination:{type:Boolean,default:!1}},data:function(){return{hasAlreadyParsed:!1,progress:0,pdfWindow:null,pdfFile:null}},watch:{progress:function(e){this.$emit("progress",e)},paginateElementsByHeight:function(){this.resetPagination()},$props:{handler:function(){this.validateProps()},deep:!0,immediate:!0}},methods:{validateProps:function(){this.manualPagination||void 0===this.paginateElementsByHeight&&console.error("Error: paginate-elements-by-height is required if manual-pagination is false")},resetPagination:function(){var e=this.$refs.pdfContent.firstChild.getElementsByClassName("html2pdf__page-break"),t=e.length-1;if(-1!==t){this.hasAlreadyParsed=!1;for(var i=t;i>=0;i--)e[i].parentNode.removeChild(e[i])}},generatePdf:function(){this.$emit("startPagination"),this.progress=0,this.paginationOfElements()},paginationOfElements:function(){if(this.progress=25,this.manualPagination)return this.progress=70,this.$emit("hasPaginated"),void this.downloadPdf();if(this.hasAlreadyParsed)this.progress=70;else{var e=this.$refs.pdfContent.firstChild,t=Array.from(e.children),i=0;for(var n of t){if("html2pdf__page-break"===n.classList[0])i=0;else{var a=n.clientHeight,o=n.currentStyle||window.getComputedStyle(n),s=a+(parseInt(o.marginTop)+parseInt(o.marginBottom));if(i+a<this.paginateElementsByHeight)i+=s;else{var l=document.createElement("div");l.classList.add("html2pdf__page-break"),e.insertBefore(l,n),i=s}}}this.progress=70,this.hasAlreadyParsed=!0}this.$emit("hasPaginated"),this.downloadPdf()},downloadPdf:async function(){var e=this.$refs.pdfContent,i=this.setOptions();this.$emit("beforeDownload",{html2pdf:t,options:i,pdfContent:e});var n=t().set(i).from(e),a=null;if(this.previewModal&&(this.pdfFile=await n.output("bloburl"),a=this.pdfFile),this.enableDownload&&(a=await n.save().output("bloburl")),a){var o=await fetch(a),s=await o.blob();this.$emit("hasDownloaded",s)}this.progress=100},setOptions:function(){return void 0!==this.htmlToPdfOptions&&null!==this.htmlToPdfOptions?this.htmlToPdfOptions:{margin:0,filename:this.filename+".pdf",image:{type:"jpeg",quality:.98},enableLinks:!1,html2canvas:{scale:this.pdfQuality,useCORS:!0},jsPDF:{unit:"in",format:this.pdfFormat,orientation:this.pdfOrientation}}},closePreview:function(){this.pdfFile=null}}},a={class:"vue-html2pdf"},o={key:0,class:"pdf-preview"},s=["src"];function l(e){l.installed||(l.installed=!0,e.component("VueHtml2pdf",n))}n.render=function(e,t,n,l,r,d){return i.openBlock(),i.createElementBlock("div",a,[i.createElementVNode("section",{class:i.normalizeClass(["layout-container",{"show-layout":n.showLayout,"unset-all":!n.floatLayout}])},[i.createElementVNode("section",{class:"content-wrapper",style:i.normalizeStyle("width: "+n.pdfContentWidth+";"),ref:"pdfContent"},[i.renderSlot(e.$slots,"pdf-content")],4)],2),i.createVNode(i.Transition,{name:"transition-anim"},{default:i.withCtx((function(){return[r.pdfFile?(i.openBlock(),i.createElementBlock("section",o,[i.createElementVNode("button",{onClick:t[0]||(t[0]=i.withModifiers((function(e){return d.closePreview()}),["self"]))}," Ã— "),i.createElementVNode("iframe",{src:r.pdfFile,width:"100%",height:"100%"},null,8,s)])):i.createCommentVNode("",!0)]})),_:1})])},n.__scopeId="data-v-1c45649c";var r={install:l},d=null;return"undefined"!=typeof window?d=window.Vue:"undefined"!=typeof global&&(d=global.Vue),d&&d.use(r),n.install=l,e.default=n,Object.defineProperty(e,"__esModule",{value:!0}),e}({},html2pdf,vue);